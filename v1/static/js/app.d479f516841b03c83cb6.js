webpackJsonp([10],{CCn6:function(t,e,n){"use strict";var i,o=n("Xxa5"),r=n.n(o),a=n("mvHQ"),s=n.n(a),c=n("fZjL"),u=n.n(c),l=n("exGp"),p=this,h=(i=n.n(l)()(r.a.mark(function t(){var e,n,i,o,a,c,l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=new Headers({"Content-Type":"application/json"}),n={},"GET"==h&&0!=d.length){l+="?",i=u()(d);for(o in i)l+=i[o]+"="+d[i[o]]+"&";l=l.substring(0,l.length-1),n={method:h,headers:e}}else"POST"==h&&(d=s()(d),n={method:h,headers:e,body:d});if(!window.fetch){t.next=12;break}return t.next=6,fetch(l,n);case 6:return a=t.sent,console.log(a),c=a.ok?a.json():a.status,t.abrupt("return",c);case 12:console.log("该浏览器不支持fetch");case 13:case"end":return t.stop()}},t,p)})),function(){return i.apply(this,arguments)}),d="dev"==n("QmSG").a.env?"//localhost:3000":"";e.a={backendLogin:function(t){return h(d+"/backend/login","POST",t)},getPosts:function(t){return h(d+"/api/v1/posts","GET",t)},deletePost:function(t){return h(d+"/api/v1/post/delete","GET",t)},addPost:function(t){return h(d+"/api/v1/post/add","GET",t)},updatePost:function(t){return h(d+"/api/v1/post/update","POST",t)},backendSignout:function(t){return h(d+"/api/v1/backend/signout","GET",t)}}},Ki8f:function(t,e,n){"use strict";n.d(e,"c",function(){return b}),n.d(e,"b",function(){return w});var i=function(t){if(Number(t.version.split(".")[0])>=2)t.mixin({beforeCreate:n});else{var e=t.prototype._init;t.prototype._init=function(t){void 0===t&&(t={}),t.init=t.init?[n].concat(t.init):n,e.call(this,t)}}function n(){var t=this.$options;t.store?this.$store="function"==typeof t.store?t.store():t.store:t.parent&&t.parent.$store&&(this.$store=t.parent.$store)}},o="undefined"!=typeof window&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function r(t,e){Object.keys(t).forEach(function(n){return e(t[n],n)})}var a=function(t,e){this.runtime=e,this._children=Object.create(null),this._rawModule=t;var n=t.state;this.state=("function"==typeof n?n():n)||{}},s={namespaced:{configurable:!0}};s.namespaced.get=function(){return!!this._rawModule.namespaced},a.prototype.addChild=function(t,e){this._children[t]=e},a.prototype.removeChild=function(t){delete this._children[t]},a.prototype.getChild=function(t){return this._children[t]},a.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)},a.prototype.forEachChild=function(t){r(this._children,t)},a.prototype.forEachGetter=function(t){this._rawModule.getters&&r(this._rawModule.getters,t)},a.prototype.forEachAction=function(t){this._rawModule.actions&&r(this._rawModule.actions,t)},a.prototype.forEachMutation=function(t){this._rawModule.mutations&&r(this._rawModule.mutations,t)},Object.defineProperties(a.prototype,s);var c=function(t){this.register([],t,!1)};c.prototype.get=function(t){return t.reduce(function(t,e){return t.getChild(e)},this.root)},c.prototype.getNamespace=function(t){var e=this.root;return t.reduce(function(t,n){return t+((e=e.getChild(n)).namespaced?n+"/":"")},"")},c.prototype.update=function(t){!function t(e,n,i){0;n.update(i);if(i.modules)for(var o in i.modules){if(!n.getChild(o))return void 0;t(e.concat(o),n.getChild(o),i.modules[o])}}([],this.root,t)},c.prototype.register=function(t,e,n){var i=this;void 0===n&&(n=!0);var o=new a(e,n);0===t.length?this.root=o:this.get(t.slice(0,-1)).addChild(t[t.length-1],o);e.modules&&r(e.modules,function(e,o){i.register(t.concat(o),e,n)})},c.prototype.unregister=function(t){var e=this.get(t.slice(0,-1)),n=t[t.length-1];e.getChild(n).runtime&&e.removeChild(n)};var u;var l=function(t){var e=this;void 0===t&&(t={}),!u&&"undefined"!=typeof window&&window.Vue&&_(window.Vue);var n=t.plugins;void 0===n&&(n=[]);var i=t.strict;void 0===i&&(i=!1);var r=t.state;void 0===r&&(r={}),"function"==typeof r&&(r=r()||{}),this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new c(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._watcherVM=new u;var a,s=this,l=this.dispatch,p=this.commit;this.dispatch=function(t,e){return l.call(s,t,e)},this.commit=function(t,e,n){return p.call(s,t,e,n)},this.strict=i,v(this,r,[],this._modules.root),f(this,r),n.forEach(function(t){return t(e)}),u.config.devtools&&(a=this,o&&(a._devtoolHook=o,o.emit("vuex:init",a),o.on("vuex:travel-to-state",function(t){a.replaceState(t)}),a.subscribe(function(t,e){o.emit("vuex:mutation",t,e)})))},p={state:{configurable:!0}};function h(t,e){return e.indexOf(t)<0&&e.push(t),function(){var n=e.indexOf(t);n>-1&&e.splice(n,1)}}function d(t,e){t._actions=Object.create(null),t._mutations=Object.create(null),t._wrappedGetters=Object.create(null),t._modulesNamespaceMap=Object.create(null);var n=t.state;v(t,n,[],t._modules.root,!0),f(t,n,e)}function f(t,e,n){var i=t._vm;t.getters={};var o={};r(t._wrappedGetters,function(e,n){o[n]=function(){return e(t)},Object.defineProperty(t.getters,n,{get:function(){return t._vm[n]},enumerable:!0})});var a=u.config.silent;u.config.silent=!0,t._vm=new u({data:{$$state:e},computed:o}),u.config.silent=a,t.strict&&t._vm.$watch(function(){return this._data.$$state},function(){},{deep:!0,sync:!0}),i&&(n&&t._withCommit(function(){i._data.$$state=null}),u.nextTick(function(){return i.$destroy()}))}function v(t,e,n,i,o){var r=!n.length,a=t._modules.getNamespace(n);if(i.namespaced&&(t._modulesNamespaceMap[a]=i),!r&&!o){var s=m(e,n.slice(0,-1)),c=n[n.length-1];t._withCommit(function(){u.set(s,c,i.state)})}var l,p,h,d,f,_=i.context=(l=t,h=n,f={dispatch:(d=""===(p=a))?l.dispatch:function(t,e,n){var i=g(t,e,n),o=i.payload,r=i.options,a=i.type;return r&&r.root||(a=p+a),l.dispatch(a,o)},commit:d?l.commit:function(t,e,n){var i=g(t,e,n),o=i.payload,r=i.options,a=i.type;r&&r.root||(a=p+a),l.commit(a,o,r)}},Object.defineProperties(f,{getters:{get:d?function(){return l.getters}:function(){return t=l,n={},i=(e=p).length,Object.keys(t.getters).forEach(function(o){if(o.slice(0,i)===e){var r=o.slice(i);Object.defineProperty(n,r,{get:function(){return t.getters[o]},enumerable:!0})}}),n;var t,e,n,i}},state:{get:function(){return m(l.state,h)}}}),f);i.forEachMutation(function(e,n){var i,o,r,s;o=a+n,r=e,s=_,((i=t)._mutations[o]||(i._mutations[o]=[])).push(function(t){r.call(i,s.state,t)})}),i.forEachAction(function(e,n){var i,o,r,s,c=e.root?n:a+n,u=e.handler||e;o=c,r=u,s=_,((i=t)._actions[o]||(i._actions[o]=[])).push(function(t,e){var n,o=r.call(i,{dispatch:s.dispatch,commit:s.commit,getters:s.getters,state:s.state,rootGetters:i.getters,rootState:i.state},t,e);return(n=o)&&"function"==typeof n.then||(o=Promise.resolve(o)),i._devtoolHook?o.catch(function(t){throw i._devtoolHook.emit("vuex:error",t),t}):o})}),i.forEachGetter(function(e,n){!function(t,e,n,i){if(t._wrappedGetters[e])return void 0;t._wrappedGetters[e]=function(t){return n(i.state,i.getters,t.state,t.getters)}}(t,a+n,e,_)}),i.forEachChild(function(i,r){v(t,e,n.concat(r),i,o)})}function m(t,e){return e.length?e.reduce(function(t,e){return t[e]},t):t}function g(t,e,n){var i;return null!==(i=t)&&"object"==typeof i&&t.type&&(n=e,e=t,t=t.type),{type:t,payload:e,options:n}}function _(t){u&&t===u||i(u=t)}p.state.get=function(){return this._vm._data.$$state},p.state.set=function(t){0},l.prototype.commit=function(t,e,n){var i=this,o=g(t,e,n),r=o.type,a=o.payload,s=(o.options,{type:r,payload:a}),c=this._mutations[r];c&&(this._withCommit(function(){c.forEach(function(t){t(a)})}),this._subscribers.forEach(function(t){return t(s,i.state)}))},l.prototype.dispatch=function(t,e){var n=this,i=g(t,e),o=i.type,r=i.payload,a={type:o,payload:r},s=this._actions[o];if(s)return this._actionSubscribers.forEach(function(t){return t(a,n.state)}),s.length>1?Promise.all(s.map(function(t){return t(r)})):s[0](r)},l.prototype.subscribe=function(t){return h(t,this._subscribers)},l.prototype.subscribeAction=function(t){return h(t,this._actionSubscribers)},l.prototype.watch=function(t,e,n){var i=this;return this._watcherVM.$watch(function(){return t(i.state,i.getters)},e,n)},l.prototype.replaceState=function(t){var e=this;this._withCommit(function(){e._vm._data.$$state=t})},l.prototype.registerModule=function(t,e,n){void 0===n&&(n={}),"string"==typeof t&&(t=[t]),this._modules.register(t,e),v(this,this.state,t,this._modules.get(t),n.preserveState),f(this,this.state)},l.prototype.unregisterModule=function(t){var e=this;"string"==typeof t&&(t=[t]),this._modules.unregister(t),this._withCommit(function(){var n=m(e.state,t.slice(0,-1));u.delete(n,t[t.length-1])}),d(this)},l.prototype.hotUpdate=function(t){this._modules.update(t),d(this,!0)},l.prototype._withCommit=function(t){var e=this._committing;this._committing=!0,t(),this._committing=e},Object.defineProperties(l.prototype,p);var b=E(function(t,e){var n={};return C(e).forEach(function(e){var i=e.key,o=e.val;n[i]=function(){var e=this.$store.state,n=this.$store.getters;if(t){var i=x(this.$store,"mapState",t);if(!i)return;e=i.context.state,n=i.context.getters}return"function"==typeof o?o.call(this,e,n):e[o]},n[i].vuex=!0}),n}),w=E(function(t,e){var n={};return C(e).forEach(function(e){var i=e.key,o=e.val;n[i]=function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];var i=this.$store.commit;if(t){var r=x(this.$store,"mapMutations",t);if(!r)return;i=r.context.commit}return"function"==typeof o?o.apply(this,[i].concat(e)):i.apply(this.$store,[o].concat(e))}}),n}),y=E(function(t,e){var n={};return C(e).forEach(function(e){var i=e.key,o=e.val;o=t+o,n[i]=function(){if(!t||x(this.$store,"mapGetters",t))return this.$store.getters[o]},n[i].vuex=!0}),n}),k=E(function(t,e){var n={};return C(e).forEach(function(e){var i=e.key,o=e.val;n[i]=function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];var i=this.$store.dispatch;if(t){var r=x(this.$store,"mapActions",t);if(!r)return;i=r.context.dispatch}return"function"==typeof o?o.apply(this,[i].concat(e)):i.apply(this.$store,[o].concat(e))}}),n});function C(t){return Array.isArray(t)?t.map(function(t){return{key:t,val:t}}):Object.keys(t).map(function(e){return{key:e,val:t[e]}})}function E(t){return function(e,n){return"string"!=typeof e?(n=e,e=""):"/"!==e.charAt(e.length-1)&&(e+="/"),t(e,n)}}function x(t,e,n){return t._modulesNamespaceMap[n]}var S={Store:l,install:_,version:"3.0.1",mapState:b,mapMutations:w,mapGetters:y,mapActions:k,createNamespacedHelpers:function(t){return{mapState:b.bind(null,t),mapGetters:y.bind(null,t),mapMutations:w.bind(null,t),mapActions:k.bind(null,t)}}};e.a=S},M93x:function(t,e,n){"use strict";var i={name:"app",components:{Navbar:n("lfLh").a},data:function(){return{}}},o={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("Navbar"),this._v(" "),e("transition",{attrs:{name:"slide",mode:"out-in"}},[e("keep-alive",[this.$route.meta.keepAlive?e("router-view"):this._e()],1)],1),this._v(" "),e("transition",{attrs:{name:"slide",mode:"out-in"}},[this.$route.meta.keepAlive?this._e():e("router-view")],1)],1)},staticRenderFns:[]};var r=n("VU/8")(i,o,!1,function(t){n("gzpi")},null,null);e.a=r.exports},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("7+uW"),o=(n("M93x"),n("YaEn")),r=(n("WTiN"),n("RfZ/")),a={SET_LOGIN:function(t,e){t.isLogin=e,r.a.setStore("isLogin",{isLogin:e})}},s=n("Ki8f");i.a.use(s.a);var c=new s.a.Store({state:{isLogin:!1},mutations:a});i.a.config.productionTip=!1,new i.a({router:o.a,store:c}).$mount("#app")},QmSG:function(t,e,n){"use strict";(function(t){var n={routerMode:"hash",routerBase:t,env:"prod"};e.a=n}).call(e,"/")},"RfZ/":function(t,e,n){"use strict";var i=n("mvHQ"),o=n.n(i);e.a={setStore:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=o()(e),localStorage.setItem(t,e)},getStore:function(t){var e=localStorage.getItem(t);if(e)return JSON.parse(e)}}},WTiN:function(t,e){var n,i,o,r,a;n=document,i=window,o=n.documentElement,r="orientationchange"in window?"orientationchange":"resize",a=function(){var t=o.clientWidth;t&&(o.style.fontSize=t/90+"px")},n.addEventListener&&(i.addEventListener(r,a,!1),n.addEventListener("DOMContentLoaded",a,!1))},YaEn:function(t,e,n){"use strict";(function(t){var i=n("QmSG"),o=n("7+uW"),r=n("/ocq"),a=n("M93x"),s=n("wXUp"),c=n("RfZ/");o.a.use(r.a);var u=[{path:"/",name:"app",component:a.a,children:[{path:"",redirect:"home"},{path:"home",name:"home",component:s.a},{path:"projects",name:"projects",component:function(){return n.e(1).then(n.bind(null,"VOYk"))}},{path:"posts",name:"posts",component:function(){return n.e(3).then(n.bind(null,"tLiD"))}},{path:"login",name:"backendLogin",component:function(){return n.e(4).then(n.bind(null,"vdVF"))}},{path:"backend",name:"backend",component:function(){return n.e(0).then(n.bind(null,"LVLx"))},children:[{path:"",redirect:{name:"backendPosts"}},{path:"posts",name:"backendPosts",component:function(){return n.e(2).then(n.bind(null,"ok3e"))}},{path:"projects",name:"backendProjects",component:function(){return n.e(7).then(n.bind(null,"kb/G"))}},{path:"resource",name:"backendResource",component:function(){return n.e(6).then(n.bind(null,"f8hT"))}},{path:"users",name:"backendUsers",component:function(){return n.e(5).then(n.bind(null,"Y7wr"))}},{path:"design",name:"backendDesign",component:function(){return n.e(8).then(n.bind(null,"rv5i"))}}]}]}],l=new r.a({mode:i.a.routerMode,bash:t,routes:u});l.beforeResolve(function(t,e,n){var i=c.a.getStore("isLogin");["backendProject","backendDesign","backendResource","backendPosts","backendUsers"].indexOf(t.name)>=0?i.isLogin?(console.log("登陆了"),n()):(console.log("为登陆"),n("/login")):n(),console.log("beforeEach",t.name)}),e.a=l}).call(e,"/")},gzpi:function(t,e){},kLKn:function(t,e){},lfLh:function(t,e,n){"use strict";var i=n("Xxa5"),o=n.n(i),r=n("exGp"),a=n.n(r),s=n("Dd8w"),c=n.n(s),u=n("CCn6"),l=n("Ki8f"),p={name:"navbar",data:function(){return{items:[{name:"首页",path:"home"},{name:"项目",path:"projects"},{name:"设计",path:"design"},{name:"日志",path:"posts"},{name:"资源",path:"resource"}],curPage:"",navbarShow:!1}},computed:c()({},Object(l.c)(["isLogin"])),watch:{$route:function(t,e){this.curPage=t.name}},created:function(){this.curPage=this.$route.name},methods:c()({},Object(l.b)(["SET_LOGIN"]),{toPage:function(t){this.$router.push({name:t})},backendSignout:function(){var t=this;return a()(o.a.mark(function e(){var n;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.backendSignout();case 2:n=e.sent,console.log("%c [backendSignout]","color: green",n),n.success&&(t.SET_LOGIN(!1),t.$router.push("/login"));case 5:case"end":return e.stop()}},e,t)}))()}})},h={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"toggle",on:{click:function(e){t.navbarShow=!t.navbarShow}}},[n("span",{staticClass:"line line1",class:{active:t.navbarShow}}),t._v(" "),n("span",{staticClass:"line line2",class:{active:t.navbarShow}}),t._v(" "),n("span",{staticClass:"line line3",class:{active:t.navbarShow}})]),t._v(" "),n("transition",{attrs:{name:"slideH"}},[t.navbarShow?n("div",{attrs:{id:"navbar"}},[n("ul",{staticClass:"items"},[t._l(t.items,function(e,i){return n("li",{key:i,staticClass:"item",class:{active:e.path==t.curPage},on:{click:function(n){t.toPage(e.path)}}},[t._v("\n                    "+t._s(e.name)+"\n                ")])}),t._v(" "),t.isLogin?t._e():n("li",{staticClass:"backend",on:{click:function(e){t.$router.push({name:"backendLogin"})}}},[t._v("后台入口")]),t._v(" "),t.isLogin?n("li",{staticClass:"signout",on:{click:t.backendSignout}},[t._v("退出后台")]):t._e()],2)]):t._e()])],1)},staticRenderFns:[]};var d=n("VU/8")(p,h,!1,function(t){n("kLKn")},"data-v-e834fa12",null);e.a=d.exports},mysl:function(t,e){},pPEj:function(t,e){},wXUp:function(t,e,n){"use strict";var i=n("Xxa5"),o=n.n(i),r=n("exGp"),a=n.n(r),s=n("BO1k"),c=n.n(s),u={name:"next",data:function(){return{curPos:1,limit:5}},created:function(){var t=this;window.addEventListener("scroll",function(){for(var e=window.scrollY,n=window.screen.availHeight,i=1;i<t.limit;i++)if(e<n*i){t.curPos=i;break}})},methods:{next:function(){var t=this,e=.1,n=this.curPos,i=setInterval(function(){document.documentElement.scrollTop+=20*e,e+=.2,document.documentElement.scrollTop>=window.screen.availHeight*t.curPos?clearInterval(i):document.documentElement.scrollTop+window.screen.availHeight>document.body.scrollHeight&&(document.documentElement.scrollTop=window.screen.availHeight*n,clearInterval(i))},30)}}},l={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"next"}},[e("img",{staticClass:"nextImg",attrs:{src:"/static/next.png"},on:{click:this.next}})])},staticRenderFns:[]};var p=n("VU/8")(u,l,!1,function(t){n("mysl")},"data-v-4b302299",null).exports,h=n("CCn6"),d={name:"home",components:{Next:p},data:function(){return{navbarShow:!1,posts:{}}},created:function(){this.start()},mounted:function(){var t=document.getElementsByClassName("page"),e=!0,n=!1,i=void 0;try{for(var o,r=c()(t);!(e=(o=r.next()).done);e=!0){o.value.style.height=window.screen.availHeight+"px"}}catch(t){n=!0,i=t}finally{try{!e&&r.return&&r.return()}finally{if(n)throw i}}},methods:{start:function(){var t=this;return a()(o.a.mark(function e(){var n;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.getPosts();case 2:n=e.sent,console.log("%c [getPosts]","color: green",n),n.success&&(t.posts=n.posts);case 5:case"end":return e.stop()}},e,t)}))()}}},f={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"home"}},[n("div",{ref:"page",staticClass:"page page1"},[t._m(0),t._v(" "),t._m(1),t._v(" "),n("p",{staticClass:"subTitle"},[t._v("专注前端开发，因为热爱，所以能够做得更好")])]),t._v(" "),n("div",{ref:"page",staticClass:"page page2"},[n("h1",{staticClass:"page2Title"},[t._v("个人日志")]),t._v(" "),n("ul",{staticClass:"content"},t._l(t.posts,function(e,i){return i<6?n("li",{key:i,staticClass:"post"},[n("img",{staticClass:"postImg",attrs:{src:e.img}}),t._v(" "),n("span",{staticClass:"postTitle"},[t._v(t._s(e.title))]),t._v(" "),n("div",{staticClass:"row"},[n("span",{staticClass:"postDate"},[t._v(t._s(new Date(e.updateAt).toLocaleString()))]),t._v(" "),n("span",{staticClass:"postAuthor"},[t._v(t._s(e.author))])])]):t._e()}))]),t._v(" "),n("div",{ref:"page",staticClass:"page page3"}),t._v(" "),n("Next")],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("h1",{staticClass:"titleF title"},[this._v("HUANG"),e("span",{staticClass:"titleB"},[this._v("YH")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"viewport"},[e("div",{staticClass:"wrapper"},[e("div",{staticClass:"block top"},[this._v("Vue")]),this._v(" "),e("div",{staticClass:"block bottom"},[this._v("Node.js")]),this._v(" "),e("div",{staticClass:"block left"},[this._v("Javascript")]),this._v(" "),e("div",{staticClass:"block right"},[this._v("Linux")]),this._v(" "),e("div",{staticClass:"block front"},[this._v("Python")]),this._v(" "),e("div",{staticClass:"block back"},[this._v("Design")])])])}]};var v=n("VU/8")(d,f,!1,function(t){n("pPEj")},"data-v-2231f4b2",null);e.a=v.exports}},["NHnr"]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3RhdGljL2pzL2FwcC5kNDc5ZjUxNjg0MWIwM2M4M2NiNi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9zZXJ2aWNlL2ZldGNoLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGFzeW5jKHVybD1cIlwiLCBtZXRob2Q9XCJHRVRcIiwgZGF0YT17fSkgPT4ge1xuICAgIFxuICAgIGxldCBoZWFkZXIgPSBuZXcgSGVhZGVycyh7XG4gICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiXG4gICAgfSlcbiAgICBsZXQgb3B0aW9ucyA9IHt9O1xuXG4gICAgaWYgKG1ldGhvZCA9PSBcIkdFVFwiICYmIGRhdGEubGVuZ3RoICE9IDApe1xuICAgICAgICB1cmwgPSB1cmwgKyBcIj9cIjtcbiAgICAgICAgbGV0IGtleXMgPSBPYmplY3Qua2V5cyhkYXRhKTtcbiAgICAgICAgZm9yKGxldCBpIGluIGtleXMpe1xuICAgICAgICAgICAgdXJsICs9IGtleXNbaV0gKyBcIj1cIiArIGRhdGFba2V5c1tpXV0gKyBcIiZcIjtcbiAgICAgICAgfVxuICAgICAgICB1cmwgPSB1cmwuc3Vic3RyaW5nKDAsIHVybC5sZW5ndGggLSAxKTtcbiAgICAgICAgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgIG1ldGhvZDogbWV0aG9kLFxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVyXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBlbHNlIGlmIChtZXRob2QgPT0gXCJQT1NUXCIpe1xuICAgICAgICBkYXRhID0gSlNPTi5zdHJpbmdpZnkoZGF0YSk7XG4gICAgICAgIFxuICAgICAgICBvcHRpb25zID0ge1xuICAgICAgICAgICAgbWV0aG9kOiBtZXRob2QsXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXIsXG4gICAgICAgICAgICBib2R5OiBkYXRhXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAod2luZG93LmZldGNoKXtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZmV0Y2godXJsLCBvcHRpb25zKTtcbiAgICAgICAgY29uc29sZS5sb2cocmVzdWx0KTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSByZXN1bHQub2sgPyBcbiAgICAgICAgICAgIHJlc3VsdC5qc29uKCkgOlxuICAgICAgICAgICAgcmVzdWx0LnN0YXR1cztcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgIH1cbiAgICBlbHNle1xuICAgICAgICBjb25zb2xlLmxvZyhcIuivpea1j+iniOWZqOS4jeaUr+aMgWZldGNoXCIpO1xuICAgIH1cbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvc2VydmljZS9mZXRjaC5qcyJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=